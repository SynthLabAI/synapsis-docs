__NUXT_JSONP__("/core/screener", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf){return {data:[{document:{slug:am,description:"High level class for running functions across stocks",title:"Screener",position:16,version:1,category:"Framework",toc:[{id:an,depth:V,text:ao},{id:ap,depth:I,text:aq},{id:ar,depth:V,text:as},{id:at,depth:I,text:au},{id:av,depth:I,text:aw},{id:ax,depth:V,text:ay},{id:az,depth:I,text:aA},{id:aB,depth:V,text:aC},{id:aD,depth:I,text:aE},{id:aF,depth:I,text:aG},{id:aH,depth:I,text:aI}],body:{type:"root",children:[{type:b,tag:n,props:{},children:[{type:a,value:"The Screener class is designed for algorithms that run on a \"set\" of assets. Some useful use cases include:"}]},{type:a,value:g},{type:b,tag:"ol",props:{},children:[{type:a,value:g},{type:b,tag:$,props:{},children:[{type:a,value:"Long term and reliable marketing abilities. Instead of running on a single symbol, a Screener will provide logic for a large number of symbols."}]},{type:a,value:g},{type:b,tag:$,props:{},children:[{type:a,value:"Portfolio Balancing (Useful if you already know what's in your portfolio and you simply want to use Synapsis to do portfolio optimization each month)"}]},{type:a,value:g},{type:b,tag:$,props:{},children:[{type:a,value:"Stock Screeners and Screener-Based Investing (Magic Formula Investing is one example)"}]},{type:a,value:g}]},{type:a,value:g},{type:b,tag:aJ,props:{},children:[{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"The main difference between a strategy and a Screener is the fact that a strategy runs on one single stock and on a given price resolution. In contrast, a Screener runs on a universe of stocks at a given time resolution. This gives you the freedom and flexibility to do a lot more than the traditional price-based strategy."}]},{type:a,value:g}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"When contrasted with a strategy, a Screener is designed to be stopped and started by external processes. When run locally, a separate thread attempts to closely replicate the starting\u002Fstopping behavior experienced by chron scheduling. When deployed live on synapsis cloud, models are fully stopped and started."}]},{type:a,value:g},{type:b,tag:W,props:{id:an},children:[{type:b,tag:v,props:{href:"#creation",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ao}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"All Screener behaviors & execution occurs in the object creation. Any consecutive logic is used to handle the output from the Screener. "},{type:b,tag:aK,props:{},children:[{type:a,value:"The Screener will execute on construction."}]}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Control the resolution or how frequently the screener runs using the "},{type:b,tag:h,props:{},children:[{type:a,value:"synapsis.json"}]},{type:a,value:" file. Change the cron job inside the "},{type:b,tag:h,props:{},children:[{type:a,value:"schedule"}]},{type:a,value:" tag."}]},{type:a,value:g},{type:b,tag:J,props:{id:ap},children:[{type:b,tag:v,props:{href:"#arguments",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aq}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:aa,props:{},children:[{type:b,tag:ab,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:A,props:{},children:[{type:a,value:aL}]},{type:b,tag:A,props:{},children:[{type:a,value:ac}]},{type:b,tag:A,props:{},children:[{type:a,value:ad}]},{type:b,tag:A,props:{},children:[{type:a,value:ae}]}]}]},{type:b,tag:af,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:aM}]},{type:b,tag:f,props:{},children:[{type:a,value:"An "},{type:b,tag:"nuxt-link",props:{to:"\u002Fcore\u002Fexchange"},children:[{type:b,tag:h,props:{},children:[{type:a,value:aM}]}]},{type:a,value:" object. This is what the Screener will run on."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"exchange = synapsis.CoinbasePro()"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"Exchange"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:aN}]},{type:b,tag:f,props:{},children:[{type:a,value:"A function with signature "},{type:b,tag:h,props:{},children:[{type:a,value:"(symbol: str, screener_state: synapsis.ScreenerState)"}]},{type:a,value:" used to perform user logic on that symbol. The function should return the user defined result ("},{type:b,tag:h,props:{},children:[{type:a,value:"return {'price': Screener_state.interface.get_price(symbol)}"}]},{type:a,value:")."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"def evaluator(symbol, screener_state: synapsis.ScreenerState)"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:X}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:Y}]},{type:b,tag:f,props:{},children:[{type:a,value:"A list of Screeners to evaluate in the evaluator function."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"['BTC-USD', 'ETH-USD']"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"list"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:P}]},{type:b,tag:f,props:{},children:[{type:a,value:"Optional setup code to run when the program starts. This should modify the passed Screener state."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"def init(screener_state: synapsis.ScreenerState)"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:X}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"final"}]},{type:b,tag:f,props:{},children:[{type:a,value:"Optional teardown code to run before the program finishes. This will be run every time the  Screener finishes a cycle (i.e. it evaluates and formats all results on all the "},{type:b,tag:h,props:{},children:[{type:a,value:Y}]},{type:a,value:"). Note this is different from "},{type:b,tag:h,props:{},children:[{type:a,value:P}]},{type:a,value:" that only runs during the start"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"def final(state: synapsis.ScreenerState)"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:X}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:ag}]},{type:b,tag:f,props:{},children:[{type:a,value:"Optional formatting function that pretties the results form all evaluator calls (i.e. across all stock tickers found in "},{type:b,tag:h,props:{},children:[{type:a,value:Y}]},{type:a,value:"). The user function should return a formatted string."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"def formatter(raw_results: dict, screener_state: synapsis.ScreenerState)"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:X}]}]}]}]},{type:a,value:g},{type:b,tag:W,props:{id:ar},children:[{type:b,tag:v,props:{href:"#screenerstate",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:as}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Screener State is the state of the overall Screener. "},{type:b,tag:aK,props:{},children:[{type:a,value:"Note again, this is different from a Strategy that has state on a per symbol basis"}]},{type:a,value:". Instead, state is shared across all symbols and functions."}]},{type:a,value:g},{type:b,tag:aJ,props:{type:"danger"},children:[{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Note that Screeners DO NOT store state across cycles (i.e. it's as if the entire process is completely restarted again). This means that we can't actually store things like price history over runs. This is intentional as it allows both your algorithm locally and in the cloud to sleep and not use computing resources."}]},{type:a,value:g}]},{type:a,value:g},{type:b,tag:J,props:{id:at},children:[{type:b,tag:v,props:{href:"#properties",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:au}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:aa,props:{},children:[{type:b,tag:ab,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:A,props:{},children:[{type:a,value:"Property"}]},{type:b,tag:A,props:{},children:[{type:a,value:ac}]},{type:b,tag:A,props:{},children:[{type:a,value:ad}]},{type:b,tag:A,props:{},children:[{type:a,value:ae}]}]}]},{type:b,tag:af,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:Z}]},{type:b,tag:f,props:{},children:[{type:a,value:"Pulls the interface stored in the strategy object"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"interface = state.interface"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"synapsis.Interface"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:ah}]},{type:b,tag:f,props:{},children:[{type:a,value:"Access to all underlying user-defined state variables. This is a modular dictionary used for general storage."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"variables = state.variables"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:ai}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:aj}]},{type:b,tag:f,props:{},children:[{type:a,value:"Specific Strategy Event Resolution ("},{type:b,tag:h,props:{},children:[{type:a,value:"None"}]},{type:a,value:" for Orderbook Event). This is the number of seconds between runs if defined."}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"resolution = state.resolution"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"float"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:Y}]},{type:b,tag:f,props:{},children:[{type:a,value:"The symbols that this Screener runs on"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"symbols = state.symbols"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"str[]"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"time"}]},{type:b,tag:f,props:{},children:[{type:a,value:"The current epoch time (if in backtest mode or in real-time)"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"time = state.time"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"Int"}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"raw_results"}]},{type:b,tag:f,props:{},children:[{type:a,value:"The results returned by the filter \"raw\" so not done through format function"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"results = screener.raw_results"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:ai}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:aO}]},{type:b,tag:f,props:{},children:[{type:a,value:"The results returned by the formatter (i.e. the format function)"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"results = screener.formatted_results"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:ai}]}]},{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"notify"}]},{type:b,tag:f,props:{},children:[{type:a,value:"A function that allows users to send notification emails on a per symbol basis (you can use this in your evaluator function)"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"state.notify(message)"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"Function"}]}]}]}]},{type:a,value:g},{type:b,tag:J,props:{id:av},children:[{type:b,tag:v,props:{href:"#common-use-cases",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aw}]},{type:a,value:g},{type:b,tag:aP,props:{id:"storing-top-x-stocks"},children:[{type:b,tag:v,props:{href:"#storing-top-x-stocks",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"Storing Top X Stocks"}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"This is very similar to the strategy where you can access "},{type:b,tag:h,props:{},children:[{type:a,value:"state.variables"}]},{type:a,value:" and store any specific variables you may want in there. For example, I could store "},{type:b,tag:h,props:{},children:[{type:a,value:"state.variables['\u003Cticker\u003E_data']"}]},{type:a,value:" where I store the data for each ticker if needed."}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"In this case, however, say that we are evaluating each stock and ultimately only want to store the Top X stocks, well we can ues a priority queue for this"}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:" queue "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:" PriorityQueue\n\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# add stock results into this as a tuple (result, ticker)"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# note you would want to input negative the value if you want a max priority queue vs a min"}]},{type:a,value:"\n  state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'top_stocks'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:" PriorityQueue"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"maxsize"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"20"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:" \n"}]}]}]},{type:a,value:g},{type:b,tag:aP,props:{id:"storing-startcurrent-positions"},children:[{type:b,tag:v,props:{href:"#storing-startcurrent-positions",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"Storing Start\u002FCurrent Positions"}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"If we want to know which positions we are currently in, we can create a variable called "},{type:b,tag:h,props:{},children:[{type:a,value:"state.variables['positions']"}]},{type:a,value:" that can hold all order size and amounts. We can then update this in our "},{type:b,tag:h,props:{},children:[{type:a,value:aN}]},{type:a,value:" function."}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:" collections "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:" deque\n\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n    state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'positions'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aR}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aS}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# make an account here using interface.account"}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:W,props:{id:ax},children:[{type:b,tag:v,props:{href:"#functions",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ay}]},{type:a,value:g},{type:b,tag:J,props:{id:az},children:[{type:b,tag:v,props:{href:"#notifymessage-str--none",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:b,tag:h,props:{},children:[{type:a,value:aA}]}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Send the formatted string to the user over both text and email. This requires configuration of the "},{type:b,tag:h,props:{},children:[{type:a,value:"notify.json"}]},{type:a,value:" with both a user phone number and email."}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:aa,props:{},children:[{type:b,tag:ab,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:A,props:{},children:[{type:a,value:aL}]},{type:b,tag:A,props:{},children:[{type:a,value:ac}]},{type:b,tag:A,props:{},children:[{type:a,value:ad}]},{type:b,tag:A,props:{},children:[{type:a,value:ae}]}]}]},{type:b,tag:af,props:{},children:[{type:b,tag:o,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"message"}]},{type:b,tag:f,props:{},children:[{type:a,value:"An optional string to override the formatted message (if not filled it sends the formatted string created during the Screener)"}]},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"'Output Override'"}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"str"}]}]}]}]},{type:a,value:g},{type:b,tag:W,props:{id:aB},children:[{type:b,tag:v,props:{href:"#example",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aC}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"We've developed Screeners to do a multitude of things that Strategies can't do. One of these things is the ability to actively send out notifications of new opportuniites, update users of specific trades that are made or potential opportunities that can be sent to an email list of some sort."}]},{type:a,value:g},{type:b,tag:J,props:{id:aD},children:[{type:b,tag:v,props:{href:"#setting-up-our-development-file",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aE}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"This is pretty straightforward as we will see:"}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" ScreenerState\n\ntickers "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'AAPL'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'GME'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'MSFT'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# any stocks that you may want"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# This function is our evaluator and runs per stock"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# in here we can get the price data, do anything else that we may need"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# initialize price data for example (so price queries are faster)"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# here we can format the results on a per ticker basis"}]},{type:a,value:"\nalpaca "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# initialize our interface"}]},{type:a,value:"\nscreener "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"alpaca"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" is_stock_buy"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" symbols"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:"tickers"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" init"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# Screener.notify() send notification by email"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"print"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:J,props:{id:aF},children:[{type:b,tag:v,props:{href:"#find-all-stocks-that-are-oversold-using-rsi",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aG}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"To do this, we use our RSI indicator that is built into Synapsis. First, let's get the data for each stock to calculate RSI."}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# get the most recent price from the exchange"}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a$}]},{type:a,value:"\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Okay, now that's set up. Let's actually do the evaluator and see if the stocks are oversold or not. In order to do this, we need to get the most recent price each time, add it to the "},{type:b,tag:h,props:{},children:[{type:a,value:"deque"}]},{type:a,value:" and calculate the RSI on the new price data."}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:R}]},{type:a,value:" synapsis"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"indicators "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:" rsi\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# This runs per stock"}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a$}]},{type:a,value:"\n  price "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"get_price"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n  rsi_values "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:" rsi"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"prices"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'close'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"14"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ba}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aR}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" rsi_values"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"-"}]},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\u003C"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"30"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" price"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'symbol'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aS}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"We can now use this to format output and notify the people that are connected to this Screener."}]},{type:a,value:g},{type:b,tag:J,props:{id:aH},children:[{type:b,tag:v,props:{href:"#formatting-results",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aI}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Now that we have the function that is continually checking if the stocks in our universe are oversold. Now we just need to format our results."}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,Q]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:F}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"# results is a dictionary on a per symbol basis"}]},{type:a,value:"\n  email_str "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'These are all the stocks that are currently oversold: \\n'"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"for"}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"in"}]},{type:a,value:" results"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"if"}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n      email_str "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"+="}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'{} is currently oversold at a price of {}\\n\\n'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,"builtin"]},children:[{type:a,value:"format"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ba}]},{type:a,value:" email_str\n"}]}]}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Now that we have our results formatted, we now can just run our Screener and that's all we have to do!"}]},{type:a,value:g},{type:b,tag:n,props:{},children:[{type:a,value:"Running the file that we just created will start the Screener and Synapsis will now handle the rest:"}]},{type:a,value:g},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,"language-text"]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"These are all the stocks that are currently oversold: \nAAPL is currently oversold at a price of $143\n"}]}]}]}]},dir:"\u002Fen\u002Fcore",path:"\u002Fen\u002Fcore\u002Fscreener",extension:".md",createdAt:bf,updatedAt:bf,to:"\u002Fcore\u002Fscreener"},prev:{slug:"market_order",title:"Market Order",to:"\u002Forders\u002Fmarket_order"},next:{slug:"futures_order",title:"Futures Order",to:"\u002Forders\u002Ffutures_order"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation","td","\n","code"," ","keyword",",",":","operator","p","tr","(",")","=",".","comment","string","a","true",-1,"icon","icon-link","th","\n  ","[","]","symbol","def","function"," state",3,"h3","div","nuxt-content-highlight","pre","line-numbers"," ScreenerState","init","language-python","from","import","number","state",2,"h2","Callable","symbols","interface"," Screener","li","table","thead","Description","Examples","Type","tbody","formatter","variables","dict","resolution"," synapsis ","is_stock_buy","screener","creation","Creation","arguments","Arguments","screenerstate","ScreenerState","properties","Properties","common-use-cases","Common Use Cases","functions","Functions","notifymessage-str--none","notify(message: str = None)","example","Example","setting-up-our-development-file","Setting up our Development File","find-all-stocks-that-are-oversold-using-rsi","Find All Stocks that Are Oversold using RSI","formatting-results","Formatting Results","alert","strong","Arg","exchange","evaluator","formatted_results","h4"," ScreenerState\n","{","}"," Alpaca","results","\n  prices ","history","40"," resolution"," return_as","'list'","# get past 40 data points","return","'is_oversold'","'price'"," symbol "," result","2023-02-13T14:52:33.297Z")));